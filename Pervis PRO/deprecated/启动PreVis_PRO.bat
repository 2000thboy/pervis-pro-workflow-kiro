@echo off
chcp 65001 >nul
title PreVis PRO å¯åŠ¨å™¨

echo.
echo â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
echo â•‘                                                          â•‘
echo â•‘              ðŸŽ¬ PreVis PRO å¯¼æ¼”å·¥ä½œå°                    â•‘
echo â•‘                                                          â•‘
echo â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

:: æ£€æŸ¥Python
python --version >nul 2>&1
if errorlevel 1 (
    echo âŒ é”™è¯¯: æœªæ‰¾åˆ°Pythonï¼Œè¯·å…ˆå®‰è£…Python 3.10+
    pause
    exit /b 1
)

:: æ£€æŸ¥Node.js
node --version >nul 2>&1
if errorlevel 1 (
    echo âŒ é”™è¯¯: æœªæ‰¾åˆ°Node.jsï¼Œè¯·å…ˆå®‰è£…Node.js 18+
    pause
    exit /b 1
)

echo âœ… çŽ¯å¢ƒæ£€æŸ¥é€šè¿‡
echo.

:: å¯åŠ¨åŽç«¯
echo ðŸš€ æ­£åœ¨å¯åŠ¨åŽç«¯æœåŠ¡...
start "PreVis Backend" cmd /k "cd /d %~dp0backend && python -m uvicorn main:app --reload --host 0.0.0.0 --port 8000"

:: ç­‰å¾…åŽç«¯å¯åŠ¨
echo â³ ç­‰å¾…åŽç«¯æœåŠ¡å¯åŠ¨...
timeout /t 5 /nobreak >nul

:: å¯åŠ¨å‰ç«¯
echo ðŸš€ æ­£åœ¨å¯åŠ¨å‰ç«¯æœåŠ¡...
start "PreVis Frontend" cmd /k "cd /d %~dp0frontend && npm run dev -- --host 0.0.0.0"

:: ç­‰å¾…å‰ç«¯å¯åŠ¨
echo â³ ç­‰å¾…å‰ç«¯æœåŠ¡å¯åŠ¨...
timeout /t 8 /nobreak >nul

echo.
echo â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
echo â•‘                                                          â•‘
echo â•‘  âœ… PreVis PRO å·²å¯åŠ¨!                                   â•‘
echo â•‘                                                          â•‘
echo â•‘  ðŸ“ è®¿é—®åœ°å€:                                            â•‘
echo â•‘     å‰ç«¯ç•Œé¢: http://localhost:3000                      â•‘
echo â•‘     MVPå·¥ä½œæµ: http://localhost:3000/mvp-workflow        â•‘
echo â•‘     APIæ–‡æ¡£: http://localhost:8000/docs                  â•‘
echo â•‘                                                          â•‘
echo â•‘  ðŸ’¡ æç¤º:                                                â•‘
echo â•‘     - å…³é—­æ­¤çª—å£ä¸ä¼šåœæ­¢æœåŠ¡                             â•‘
echo â•‘     - è¦åœæ­¢æœåŠ¡ï¼Œè¯·å…³é—­åŽç«¯å’Œå‰ç«¯çš„å‘½ä»¤è¡Œçª—å£           â•‘
echo â•‘                                                          â•‘
echo â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

:: è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
echo ðŸŒ æ­£åœ¨æ‰“å¼€æµè§ˆå™¨...
start http://localhost:3000/mvp-workflow

echo.
echo æŒ‰ä»»æ„é”®é€€å‡ºæ­¤çª—å£ï¼ˆæœåŠ¡å°†ç»§ç»­è¿è¡Œï¼‰...
pause >nul