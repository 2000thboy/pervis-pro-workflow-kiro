{
  "summary": {
    "test_time": "2025-12-19T13:55:40.740946",
    "base_url": "http://localhost:8000",
    "total_tests": 9,
    "successful_tests": 8,
    "failed_tests": 1,
    "success_rate": 88.88888888888889
  },
  "test_results": [
    {
      "endpoint": "/api/health",
      "method": "GET",
      "url": "http://localhost:8000/api/health",
      "status_code": 200,
      "response_time": 2.073962688446045,
      "success": true,
      "timestamp": "2025-12-19T13:55:24.221796",
      "response_data": {
        "status": "healthy",
        "service": "director-workbench",
        "version": "0.2.0",
        "config": {
          "gemini_configured": false,
          "asset_root": "./assets",
          "asset_dirs_exist": true
        }
      }
    },
    {
      "endpoint": "/",
      "method": "GET",
      "url": "http://localhost:8000/",
      "status_code": 200,
      "response_time": 2.057405710220337,
      "success": true,
      "timestamp": "2025-12-19T13:55:26.279411",
      "response_data": {
        "message": "Pervis PRO Director Workbench API",
        "status": "running"
      }
    },
    {
      "endpoint": "/api/script/analyze",
      "method": "POST",
      "url": "http://localhost:8000/api/script/analyze",
      "status_code": 200,
      "response_time": 2.1600706577301025,
      "success": true,
      "timestamp": "2025-12-19T13:55:28.439756",
      "response_data": {
        "status": "success",
        "beats": [
          {
            "id": "beat_edad84ce",
            "content": "场景1：城市街道 - 白天",
            "emotion_tags": [
              "平静",
              "中性"
            ],
            "scene_tags": [
              "户外",
              "白天",
              "城市"
            ],
            "action_tags": [
              "静态"
            ],
            "cinematography_tags": [
              "中景"
            ],
            "duration": 2.0
          },
          {
            "id": "beat_fb0a7fb0",
            "content": "小明匆忙地跑过繁忙的街道。",
            "emotion_tags": [
              "平静",
              "中性"
            ],
            "scene_tags": [
              "户外",
              "白天",
              "城市"
            ],
            "action_tags": [
              "移动"
            ],
            "cinematography_tags": [
              "中景"
            ],
            "duration": 4.0
          }
        ],
        "characters": [
          {
            "id": "char_b337273d",
            "name": "主角",
            "role": "Protagonist",
            "description": "故事的主要角色"
          }
        ],
        "processing_time": 0.12495756149291992,
        "project_id": "proj_b0b50cc6",
        "error": null
      }
    },
    {
      "endpoint": "/api/assets/list",
      "method": "GET",
      "url": "http://localhost:8000/api/assets/list",
      "status_code": 200,
      "response_time": 2.0422182083129883,
      "success": true,
      "timestamp": "2025-12-19T13:55:30.482285",
      "response_data": [
        {
          "id": "e6d6663a-4996-4c4f-9019-87505dc2b255",
          "filename": "close_up_face_guilty.mp4",
          "mime_type": "video/mp4",
          "file_path": "assets/originals/close_up_face_guilty.mp4",
          "thumbnail_path": "assets/thumbnails/e6d6663a-4996-4c4f-9019-87505dc2b255.jpg",
          "processing_status": "completed",
          "tags": "['特写', '脸部', '愧疚', '情绪', '年轻人']",
          "created_at": "2025-12-19T11:50:22.187860",
          "duration": 4.0
        },
        {
          "id": "a6a4ccad-096e-4c8e-8086-23240eab68bc",
          "filename": "conversation_office_serious.mp4",
          "mime_type": "video/mp4",
          "file_path": "assets/originals/conversation_office_serious.mp4",
          "thumbnail_path": "assets/thumbnails/a6a4ccad-096e-4c8e-8086-23240eab68bc.jpg",
          "processing_status": "completed",
          "tags": "['对话', '办公室', '严肃', '老板', '员工']",
          "created_at": "2025-12-19T11:50:22.187785",
          "duration": 12.0
        },
        {
          "id": "d1530a81-6133-4e2f-8c70-28785ff98494",
          "filename": "person_walking_hurried.mp4",
          "mime_type": "video/mp4",
          "file_path": "assets/originals/person_walking_hurried.mp4",
          "thumbnail_path": "assets/thumbnails/d1530a81-6133-4e2f-8c70-28785ff98494.jpg",
          "processing_status": "completed",
          "tags": "['人物', '行走', '匆忙', '焦虑', '咖啡']",
          "created_at": "2025-12-19T11:50:22.187702",
          "duration": 5.0
        },
        {
          "id": "828db3a6-ac10-4b6d-a78b-bf096a8422d4",
          "filename": "office_modern_interior.mp4",
          "mime_type": "video/mp4",
          "file_path": "assets/originals/office_modern_interior.mp4",
          "thumbnail_path": "assets/thumbnails/828db3a6-ac10-4b6d-a78b-bf096a8422d4.jpg",
          "processing_status": "completed",
          "tags": "['办公室', '室内', '现代', '白天', '工作']",
          "created_at": "2025-12-19T11:50:22.187603",
          "duration": 6.0
        },
        {
          "id": "a4cb1b85-8ca4-4fed-adeb-70cd56009fcf",
          "filename": "city_street_busy.mp4",
          "mime_type": "video/mp4",
          "file_path": "assets/originals/city_street_busy.mp4",
          "thumbnail_path": "assets/thumbnails/a4cb1b85-8ca4-4fed-adeb-70cd56009fcf.jpg",
          "processing_status": "completed",
          "tags": "['城市', '街道', '繁忙', '白天', '户外']",
          "created_at": "2025-12-19T11:50:22.186937",
          "duration": 8.0
        },
        {
          "id": "asset_61d8cdff",
          "filename": "video_030.mp4",
          "mime_type": "video/mp4",
          "file_path": "assets/originals/asset_61d8cdff.mp4",
          "thumbnail_path": "backend\\assets\\thumbnails\\asset_61d8cdff_thumb.jpg",
          "processing_status": "completed",
          "tags": "[]",
          "created_at": "2025-12-17 01:32:52.024163",
          "duration": 5.0
        },
        {
          "id": "asset_c36c8bce",
          "filename": "video_029.mp4",
          "mime_type": "video/mp4",
          "file_path": "assets/originals/asset_c36c8bce.mp4",
          "thumbnail_path": "backend\\assets\\thumbnails\\asset_c36c8bce_thumb.jpg",
          "processing_status": "completed",
          "tags": "[]",
          "created_at": "2025-12-17 01:32:51.531846",
          "duration": 5.0
        },
        {
          "id": "asset_455118e7",
          "filename": "video_028.mp4",
          "mime_type": "video/mp4",
          "file_path": "assets/originals/asset_455118e7.mp4",
          "thumbnail_path": "backend\\assets\\thumbnails\\asset_455118e7_thumb.jpg",
          "processing_status": "completed",
          "tags": "[]",
          "created_at": "2025-12-17 01:32:49.950780",
          "duration": 5.0
        },
        {
          "id": "asset_0c2fb69d",
          "filename": "video_027.mp4",
          "mime_type": "video/mp4",
          "file_path": "assets/originals/asset_0c2fb69d.mp4",
          "thumbnail_path": "backend\\assets\\thumbnails\\asset_0c2fb69d_thumb.jpg",
          "processing_status": "completed",
          "tags": "[]",
          "created_at": "2025-12-17 01:32:49.470142",
          "duration": 5.0
        },
        {
          "id": "asset_8e33dea8",
          "filename": "video_026.mp4",
          "mime_type": "video/mp4",
          "file_path": "assets/originals/asset_8e33dea8.mp4",
          "thumbnail_path": "backend\\assets\\thumbnails\\asset_8e33dea8_thumb.jpg",
          "processing_status": "completed",
          "tags": "[]",
          "created_at": "2025-12-17 01:32:47.882843",
          "duration": 5.0
        },
        {
          "id": "asset_e5a126de",
          "filename": "video_025.mp4",
          "mime_type": "video/mp4",
          "file_path": "assets/originals/asset_e5a126de.mp4",
          "thumbnail_path": "backend\\assets\\thumbnails\\asset_e5a126de_thumb.jpg",
          "processing_status": "completed",
          "tags": "[]",
          "created_at": "2025-12-17 01:32:47.389644",
          "duration": 5.0
        },
        {
          "id": "asset_eb483dda",
          "filename": "video_024.mp4",
          "mime_type": "video/mp4",
          "file_path": "assets/originals/asset_eb483dda.mp4",
          "thumbnail_path": "backend\\assets\\thumbnails\\asset_eb483dda_thumb.jpg",
          "processing_status": "completed",
          "tags": "[]",
          "created_at": "2025-12-17 01:32:45.712382",
          "duration": 5.0
        },
        {
          "id": "asset_a10dd9fe",
          "filename": "video_023.mp4",
          "mime_type": "video/mp4",
          "file_path": "assets/originals/asset_a10dd9fe.mp4",
          "thumbnail_path": "backend\\assets\\thumbnails\\asset_a10dd9fe_thumb.jpg",
          "processing_status": "completed",
          "tags": "[]",
          "created_at": "2025-12-17 01:32:45.111242",
          "duration": 5.0
        },
        {
          "id": "asset_6c4f70cf",
          "filename": "video_022.mp4",
          "mime_type": "video/mp4",
          "file_path": "assets/originals/asset_6c4f70cf.mp4",
          "thumbnail_path": "backend\\assets\\thumbnails\\asset_6c4f70cf_thumb.jpg",
          "processing_status": "completed",
          "tags": "[]",
          "created_at": "2025-12-17 01:32:43.658999",
          "duration": 5.0
        },
        {
          "id": "asset_f4818143",
          "filename": "video_021.mp4",
          "mime_type": "video/mp4",
          "file_path": "assets/originals/asset_f4818143.mp4",
          "thumbnail_path": "backend\\assets\\thumbnails\\asset_f4818143_thumb.jpg",
          "processing_status": "completed",
          "tags": "[]",
          "created_at": "2025-12-17 01:32:42.949785",
          "duration": 5.0
        },
        {
          "id": "asset_27adf482-ee68-4e55-ad0c-3b1fa33be360",
          "filename": "27adf482-ee68-4e55-ad0c-3b1fa33be360.mp4",
          "mime_type": "video/mp4",
          "file_path": "../assets/originals/27adf482-ee68-4e55-ad0c-3b1fa33be360.mp4",
          "thumbnail_path": null,
          "processing_status": "completed",
          "tags": "[]",
          "created_at": null,
          "duration": 5.0
        },
        {
          "id": "asset_6f620c33-3dfd-4585-8918-a689048a2a77",
          "filename": "6f620c33-3dfd-4585-8918-a689048a2a77.mp4",
          "mime_type": "video/mp4",
          "file_path": "../assets/originals/6f620c33-3dfd-4585-8918-a689048a2a77.mp4",
          "thumbnail_path": null,
          "processing_status": "completed",
          "tags": "[]",
          "created_at": null,
          "duration": 5.0
        },
        {
          "id": "asset_78a0a8bb-9f19-4242-be8e-2f0f5d225021",
          "filename": "78a0a8bb-9f19-4242-be8e-2f0f5d225021.mp4",
          "mime_type": "video/mp4",
          "file_path": "../assets/originals/78a0a8bb-9f19-4242-be8e-2f0f5d225021.mp4",
          "thumbnail_path": null,
          "processing_status": "completed",
          "tags": "[]",
          "created_at": null,
          "duration": 5.0
        },
        {
          "id": "asset_b040c95e-4095-4e33-be37-9fd738f45f75",
          "filename": "b040c95e-4095-4e33-be37-9fd738f45f75.mp4",
          "mime_type": "video/mp4",
          "file_path": "../assets/originals/b040c95e-4095-4e33-be37-9fd738f45f75.mp4",
          "thumbnail_path": null,
          "processing_status": "completed",
          "tags": "[]",
          "created_at": null,
          "duration": 5.0
        },
        {
          "id": "asset_dbf1a48a-f0ca-4d5b-b73d-9afecb79f804",
          "filename": "dbf1a48a-f0ca-4d5b-b73d-9afecb79f804.mp4",
          "mime_type": "video/mp4",
          "file_path": "../assets/originals/dbf1a48a-f0ca-4d5b-b73d-9afecb79f804.mp4",
          "thumbnail_path": null,
          "processing_status": "completed",
          "tags": "[]",
          "created_at": null,
          "duration": 5.0
        }
      ]
    },
    {
      "endpoint": "/api/search/semantic",
      "method": "POST",
      "url": "http://localhost:8000/api/search/semantic",
      "status_code": 200,
      "response_time": 2.0457444190979004,
      "success": true,
      "timestamp": "2025-12-19T13:55:32.528355",
      "response_data": {
        "results": [],
        "total_matches": 0,
        "search_time": 0.0028009414672851562
      }
    },
    {
      "endpoint": "/api/multimodal/search",
      "method": "POST",
      "url": "http://localhost:8000/api/multimodal/search",
      "status_code": 200,
      "response_time": 2.044254779815674,
      "success": true,
      "timestamp": "2025-12-19T13:55:34.573008",
      "response_data": {
        "status": "success",
        "query": "快乐的街道场景",
        "query_intent": {
          "primary_intent": "semantic",
          "visual_keywords": [],
          "audio_keywords": [],
          "emotion_keywords": [
            "快乐"
          ],
          "scene_keywords": [],
          "action_keywords": [],
          "technical_keywords": []
        },
        "search_modes": [
          "semantic"
        ],
        "weights": {
          "semantic": 0.4,
          "transcription": 0.3,
          "visual": 0.3
        },
        "results": [],
        "total_matches": 0,
        "individual_results": {
          "semantic": 0
        }
      }
    },
    {
      "endpoint": "/api/autocut/generate",
      "method": "POST",
      "url": "http://localhost:8000/api/autocut/generate",
      "status_code": 200,
      "response_time": 2.053525686264038,
      "success": true,
      "timestamp": "2025-12-19T13:55:36.626854",
      "response_data": {
        "status": "success",
        "timeline": {
          "id": "timeline_ef89fbc6",
          "clips": [
            {
              "id": "clip_62c3a00e",
              "beat_id": "beat_1",
              "asset_id": "asset_1",
              "start_time": 0.0,
              "end_time": 4.4,
              "duration": 4.4,
              "order_index": 0,
              "confidence": 0.8,
              "reasoning": "语义匹配度 80.0%"
            }
          ],
          "total_duration": 4.4,
          "clip_count": 1,
          "generated_by": "AutoCut Orchestrator v1.0"
        },
        "decisions": [
          {
            "beat_id": "beat_1",
            "content": "小明跑过街道",
            "start_time": 0.0,
            "duration": 4.4,
            "asset_id": "asset_1",
            "confidence": 0.8,
            "reasoning": "语义匹配度 80.0%"
          }
        ],
        "processing_time": 0.0005404949188232422
      }
    },
    {
      "endpoint": "/api/timelines/list",
      "method": "GET",
      "url": "http://localhost:8000/api/timelines/list",
      "status_code": 404,
      "response_time": 2.0596795082092285,
      "success": false,
      "timestamp": "2025-12-19T13:55:38.686850",
      "error": "期望状态码 200, 实际 404",
      "error_detail": {
        "detail": "Not Found"
      }
    },
    {
      "endpoint": "/api/render/tasks",
      "method": "GET",
      "url": "http://localhost:8000/api/render/tasks",
      "status_code": 200,
      "response_time": 2.0533764362335205,
      "success": true,
      "timestamp": "2025-12-19T13:55:40.740617",
      "response_data": {
        "status": "success",
        "tasks": [
          {
            "id": "133a44f2-5d88-4e57-83c8-588eab9f6f6b",
            "timeline_id": "71e79367-4299-4dc7-a2da-91b20b4cfaf2",
            "status": "completed",
            "progress": 100.0,
            "error_message": null,
            "output_path": "storage\\renders\\render_20251219_130348_133a44f2.mp4",
            "file_size": 1867764,
            "created_at": "2025-12-19 13:03:48.156359",
            "started_at": "2025-12-19 13:03:48.193906",
            "completed_at": "2025-12-19 13:03:48.788603"
          },
          {
            "id": "efb92cd2-ef02-4475-87b5-9ad7829f15d5",
            "timeline_id": "bc0bef50-eab0-41ce-b30f-a4b930b09338",
            "status": "completed",
            "progress": 100.0,
            "error_message": null,
            "output_path": "storage\\renders\\render_20251219_124657_efb92cd2.mp4",
            "file_size": 1867764,
            "created_at": "2025-12-19 12:46:57.538359",
            "started_at": null,
            "completed_at": "2025-12-19 12:46:58.741685"
          },
          {
            "id": "8b8cdd60-2caa-4ac1-94df-615c59e5b093",
            "timeline_id": "3c42f774-2e53-43f6-bcab-df6cd0000e74",
            "status": "completed",
            "progress": 100.0,
            "error_message": null,
            "output_path": "storage\\renders\\render_20251219_124608_8b8cdd60.mp4",
            "file_size": 1867764,
            "created_at": "2025-12-19 12:46:08.303875",
            "started_at": null,
            "completed_at": "2025-12-19 12:46:08.982609"
          },
          {
            "id": "de580572-bec3-4a2d-a9be-e7852b0be267",
            "timeline_id": "4cd7ff5c-f68d-48a0-b391-5e8798f1e0c4",
            "status": "failed",
            "progress": 0.0,
            "error_message": "ffmpeg error (see stderr output for detail)",
            "output_path": "storage\\renders\\render_20251219_124455_de580572.mp4",
            "file_size": null,
            "created_at": "2025-12-19 12:44:55.783465",
            "started_at": null,
            "completed_at": null
          },
          {
            "id": "84ad125d-4646-4604-9f1d-b8d893783e7b",
            "timeline_id": "57e580ee-afb8-4bee-8279-fe3315e2426e",
            "status": "failed",
            "progress": 0.0,
            "error_message": "ffmpeg error (see stderr output for detail)",
            "output_path": "storage\\renders\\render_20251219_124124_84ad125d.mp4",
            "file_size": null,
            "created_at": "2025-12-19 12:41:24.583234",
            "started_at": null,
            "completed_at": null
          },
          {
            "id": "7065f437-d109-41bd-925e-fccffa9dbf98",
            "timeline_id": "19e6c984-ca3a-42df-adf1-f5a15b61f57d",
            "status": "failed",
            "progress": 0.0,
            "error_message": "ffmpeg error (see stderr output for detail)",
            "output_path": "storage\\renders\\render_20251219_123935_7065f437.mp4",
            "file_size": null,
            "created_at": "2025-12-19 12:39:35.122764",
            "started_at": "2025-12-19 12:39:35.250516",
            "completed_at": null
          },
          {
            "id": "b8c4caaa-a18a-466a-8fd6-1e947ca39edb",
            "timeline_id": "fb92feba-8542-449c-a72f-1d2dad084a2f",
            "status": "failed",
            "progress": 0.0,
            "error_message": "ffmpeg error (see stderr output for detail)",
            "output_path": "storage\\renders\\render_20251219_123836_b8c4caaa.mp4",
            "file_size": null,
            "created_at": "2025-12-19 12:38:36.781622",
            "started_at": null,
            "completed_at": null
          },
          {
            "id": "a76272b5-56d3-4073-a8ae-eed56f744daa",
            "timeline_id": "4bc8f939-c0d0-4d8c-82ff-d530ae184035",
            "status": "failed",
            "progress": 0.0,
            "error_message": "ffmpeg error (see stderr output for detail)",
            "output_path": "storage\\renders\\render_20251219_123715_a76272b5.mp4",
            "file_size": null,
            "created_at": "2025-12-19 12:37:15.506452",
            "started_at": null,
            "completed_at": null
          },
          {
            "id": "00f85f14-6f8b-45b9-801c-9c9c044aad61",
            "timeline_id": "78be4769-a4e3-42dd-a15c-f2de8e241d31",
            "status": "failed",
            "progress": 0.0,
            "error_message": "ffmpeg error (see stderr output for detail)",
            "output_path": "storage\\renders\\render_20251219_123629_00f85f14.mp4",
            "file_size": null,
            "created_at": "2025-12-19 12:36:29.010011",
            "started_at": null,
            "completed_at": null
          },
          {
            "id": "1bd2df2e-ce2d-4b7e-a258-299d1b8c23de",
            "timeline_id": "3052f4c3-dff2-400d-ad45-a95f4afc6d92",
            "status": "failed",
            "progress": 0.0,
            "error_message": "ffmpeg error (see stderr output for detail)",
            "output_path": "storage\\renders\\render_20251219_123442_1bd2df2e.mp4",
            "file_size": null,
            "created_at": "2025-12-19 12:34:42.749601",
            "started_at": null,
            "completed_at": null
          },
          {
            "id": "eb25d3d3-536c-4385-86a8-05df7f03f39f",
            "timeline_id": "9984ed93-a978-4537-8422-7e5f08ccfa1b",
            "status": "failed",
            "progress": 0.0,
            "error_message": "'coroutine' object has no attribute 'id'",
            "output_path": "storage\\renders\\render_20251219_123305_eb25d3d3.mp4",
            "file_size": null,
            "created_at": "2025-12-19 12:33:05.517572",
            "started_at": null,
            "completed_at": null
          },
          {
            "id": "8b44ba41-1e8f-4a2b-a61c-dcbf7f33a376",
            "timeline_id": "bf6b5027-a6c6-43d7-b22e-ea72ac8132d4",
            "status": "failed",
            "progress": 0.0,
            "error_message": "'coroutine' object has no attribute 'id'",
            "output_path": "storage\\renders\\render_20251219_122646_8b44ba41.mp4",
            "file_size": null,
            "created_at": "2025-12-19 12:26:46.135759",
            "started_at": null,
            "completed_at": null
          },
          {
            "id": "44254597-af2a-4f26-ab33-78ec1753c9f1",
            "timeline_id": "84966689-de89-41ce-a148-ff378d24cbb8",
            "status": "failed",
            "progress": 0.0,
            "error_message": "'coroutine' object has no attribute 'id'",
            "output_path": "storage\\renders\\render_20251219_122057_44254597.mp4",
            "file_size": null,
            "created_at": "2025-12-19 12:20:57.786194",
            "started_at": "2025-12-19 12:20:57.834084",
            "completed_at": null
          }
        ]
      }
    }
  ]
}