{
  "summary": {
    "start_time": "2025-12-19T15:18:11.845287",
    "end_time": "2025-12-19T15:18:13.317028",
    "duration_seconds": 1.471741,
    "tests_run": 57,
    "tests_passed": 55,
    "tests_failed": 2,
    "success_rate": 96.49122807017544
  },
  "critical_issues": [
    "Python包检查: google-generativeai: 包未安装: google-generativeai",
    "Python包检查: opencv-python: 包未安装: opencv-python"
  ],
  "warnings": [],
  "detailed_results": [
    {
      "test_name": "Python版本检查",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:11.849574",
      "details": {
        "python_version": "3.13.8 (tags/v3.13.8:a15ae61, Oct  7 2025, 12:34:25) [MSC v.1944 64 bit (AMD64)]"
      },
      "is_critical": false
    },
    {
      "test_name": "目录存在检查: backend",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:11.851160",
      "details": {
        "path": "F:\\100KIRO project\\Pervis PRO\\backend"
      },
      "is_critical": false
    },
    {
      "test_name": "目录存在检查: frontend",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:11.852657",
      "details": {
        "path": "F:\\100KIRO project\\Pervis PRO\\frontend"
      },
      "is_critical": false
    },
    {
      "test_name": "目录存在检查: assets",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:11.853907",
      "details": {
        "path": "F:\\100KIRO project\\Pervis PRO\\assets"
      },
      "is_critical": false
    },
    {
      "test_name": "目录存在检查: storage",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:11.855337",
      "details": {
        "path": "F:\\100KIRO project\\Pervis PRO\\storage"
      },
      "is_critical": false
    },
    {
      "test_name": "Python包检查: sqlalchemy",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:11.995636",
      "details": {
        "package": "sqlalchemy"
      },
      "is_critical": false
    },
    {
      "test_name": "Python包检查: fastapi",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:12.163329",
      "details": {
        "package": "fastapi"
      },
      "is_critical": false
    },
    {
      "test_name": "Python包检查: uvicorn",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:12.187006",
      "details": {
        "package": "uvicorn"
      },
      "is_critical": false
    },
    {
      "test_name": "Python包检查: pydantic",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:12.188393",
      "details": {
        "package": "pydantic"
      },
      "is_critical": false
    },
    {
      "test_name": "Python包检查: google-generativeai",
      "status": "FAIL",
      "timestamp": "2025-12-19T15:18:12.190343",
      "details": {
        "error": "包未安装: google-generativeai"
      },
      "is_critical": true
    },
    {
      "test_name": "Python包检查: numpy",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:12.225418",
      "details": {
        "package": "numpy"
      },
      "is_critical": false
    },
    {
      "test_name": "Python包检查: opencv-python",
      "status": "FAIL",
      "timestamp": "2025-12-19T15:18:12.226934",
      "details": {
        "error": "包未安装: opencv-python"
      },
      "is_critical": true
    },
    {
      "test_name": "数据库连接测试",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:12.274308",
      "details": {
        "database_url": "sqlite:///backend/pervis_director.db"
      },
      "is_critical": false
    },
    {
      "test_name": "数据表检查: projects",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:12.276102",
      "details": {
        "table": "projects",
        "record_count": 68
      },
      "is_critical": false
    },
    {
      "test_name": "数据表检查: beats",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:12.277361",
      "details": {
        "table": "beats",
        "record_count": 199
      },
      "is_critical": false
    },
    {
      "test_name": "数据表检查: assets",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:12.278593",
      "details": {
        "table": "assets",
        "record_count": 26
      },
      "is_critical": false
    },
    {
      "test_name": "数据表检查: timelines",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:12.279784",
      "details": {
        "table": "timelines",
        "record_count": 22
      },
      "is_critical": false
    },
    {
      "test_name": "数据表检查: clips",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:12.280875",
      "details": {
        "table": "clips",
        "record_count": 26
      },
      "is_critical": false
    },
    {
      "test_name": "数据表检查: render_tasks",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:12.281953",
      "details": {
        "table": "render_tasks",
        "record_count": 15
      },
      "is_critical": false
    },
    {
      "test_name": "数据表检查: asset_segments",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:12.283085",
      "details": {
        "table": "asset_segments",
        "record_count": 110
      },
      "is_critical": false
    },
    {
      "test_name": "剧本分析服务初始化",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:12.854581",
      "details": {
        "service": "ScriptProcessor"
      },
      "is_critical": false
    },
    {
      "test_name": "剧本分析功能测试",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.170318",
      "details": {
        "beats_count": 5,
        "characters_count": 1,
        "processing_time": 0.3143000602722168,
        "project_id": "proj_4086fa54"
      },
      "is_critical": false
    },
    {
      "test_name": "素材处理服务初始化",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.187701",
      "details": {
        "service": "AssetProcessor"
      },
      "is_critical": false
    },
    {
      "test_name": "素材处理依赖服务: video_processor",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.188819",
      "details": {
        "service": "video_processor"
      },
      "is_critical": false
    },
    {
      "test_name": "素材处理依赖服务: gemini_client",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.190587",
      "details": {
        "service": "gemini_client"
      },
      "is_critical": false
    },
    {
      "test_name": "素材处理依赖服务: audio_transcriber",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.191900",
      "details": {
        "service": "audio_transcriber"
      },
      "is_critical": false
    },
    {
      "test_name": "素材处理依赖服务: visual_processor",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.193318",
      "details": {
        "service": "visual_processor"
      },
      "is_critical": false
    },
    {
      "test_name": "文件类型检测: test.mp4",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.194386",
      "details": {
        "filename": "test.mp4",
        "is_video": true
      },
      "is_critical": false
    },
    {
      "test_name": "文件类型检测: test.avi",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.195642",
      "details": {
        "filename": "test.avi",
        "is_video": true
      },
      "is_critical": false
    },
    {
      "test_name": "文件类型检测: test.jpg",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.196677",
      "details": {
        "filename": "test.jpg",
        "is_video": false
      },
      "is_critical": false
    },
    {
      "test_name": "文件类型检测: test.txt",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.197673",
      "details": {
        "filename": "test.txt",
        "is_video": false
      },
      "is_critical": false
    },
    {
      "test_name": "多模态搜索引擎初始化",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.200601",
      "details": {
        "service": "MultimodalSearchEngine"
      },
      "is_critical": false
    },
    {
      "test_name": "查询意图解析: 蓝色夜景城市",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.201619",
      "details": {
        "query": "蓝色夜景城市",
        "primary_intent": "visual",
        "keywords_count": 3
      },
      "is_critical": false
    },
    {
      "test_name": "查询意图解析: 快乐的对话场景",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.202617",
      "details": {
        "query": "快乐的对话场景",
        "primary_intent": "audio",
        "keywords_count": 2
      },
      "is_critical": false
    },
    {
      "test_name": "查询意图解析: 紧张的追逐镜头",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.203573",
      "details": {
        "query": "紧张的追逐镜头",
        "primary_intent": "semantic",
        "keywords_count": 2
      },
      "is_critical": false
    },
    {
      "test_name": "多模态搜索功能测试",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.206830",
      "details": {
        "results_count": 0,
        "search_modes": [
          "semantic"
        ]
      },
      "is_critical": false
    },
    {
      "test_name": "时间轴服务初始化",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.211344",
      "details": {
        "service": "TimelineService"
      },
      "is_critical": false
    },
    {
      "test_name": "AutoCut服务初始化",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.212538",
      "details": {
        "service": "AutoCutOrchestrator"
      },
      "is_critical": false
    },
    {
      "test_name": "AutoCut智能决策测试",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.222454",
      "details": {
        "clips_generated": 2,
        "total_duration": 6.4,
        "processing_time": 0.00778651237487793
      },
      "is_critical": false
    },
    {
      "test_name": "时间轴创建测试",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.260020",
      "details": {
        "timeline_id": "6396ce69-d2e5-4f0b-88f4-3eb4487d7747",
        "project_id": "test_project_123",
        "name": "测试时间轴"
      },
      "is_critical": false
    },
    {
      "test_name": "时间轴查询测试",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.262191",
      "details": {
        "timeline_id": "6396ce69-d2e5-4f0b-88f4-3eb4487d7747"
      },
      "is_critical": false
    },
    {
      "test_name": "渲染服务初始化",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.269713",
      "details": {
        "service": "RenderService"
      },
      "is_critical": false
    },
    {
      "test_name": "FFmpeg集成检查",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.270823",
      "details": {
        "ffmpeg_wrapper": "<class 'services.ffmpeg_wrapper.FFmpegWrapper'>"
      },
      "is_critical": false
    },
    {
      "test_name": "渲染输出目录检查",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.271935",
      "details": {
        "output_dir": "storage\\renders"
      },
      "is_critical": false
    },
    {
      "test_name": "渲染前检查功能测试",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.273226",
      "details": {
        "can_render": false,
        "errors": [
          "时间轴不存在"
        ]
      },
      "is_critical": false
    },
    {
      "test_name": "任务状态查询测试",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.275355",
      "details": {
        "task_id": "nonexistent_task",
        "result": "None (expected)"
      },
      "is_critical": false
    },
    {
      "test_name": "API模块导入: routers.assets",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.282612",
      "details": {
        "module": "routers.assets"
      },
      "is_critical": false
    },
    {
      "test_name": "API模块导入: routers.projects",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.287357",
      "details": {
        "module": "routers.projects"
      },
      "is_critical": false
    },
    {
      "test_name": "API模块导入: routers.autocut",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.290011",
      "details": {
        "module": "routers.autocut"
      },
      "is_critical": false
    },
    {
      "test_name": "API模块导入: routers.timeline",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.298289",
      "details": {
        "module": "routers.timeline"
      },
      "is_critical": false
    },
    {
      "test_name": "API模块导入: routers.render",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.302011",
      "details": {
        "module": "routers.render"
      },
      "is_critical": false
    },
    {
      "test_name": "API模块导入: routers.multimodal",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.307918",
      "details": {
        "module": "routers.multimodal"
      },
      "is_critical": false
    },
    {
      "test_name": "存储目录检查: assets/originals",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.310512",
      "details": {
        "path": "F:\\100KIRO project\\Pervis PRO\\assets\\originals",
        "readable": true,
        "writable": true
      },
      "is_critical": false
    },
    {
      "test_name": "存储目录检查: assets/proxies",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.311637",
      "details": {
        "path": "F:\\100KIRO project\\Pervis PRO\\assets\\proxies",
        "readable": true,
        "writable": true
      },
      "is_critical": false
    },
    {
      "test_name": "存储目录检查: assets/thumbnails",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.312762",
      "details": {
        "path": "F:\\100KIRO project\\Pervis PRO\\assets\\thumbnails",
        "readable": true,
        "writable": true
      },
      "is_critical": false
    },
    {
      "test_name": "存储目录检查: storage/renders",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.313897",
      "details": {
        "path": "F:\\100KIRO project\\Pervis PRO\\storage\\renders",
        "readable": true,
        "writable": true
      },
      "is_critical": false
    },
    {
      "test_name": "存储目录检查: backend/assets",
      "status": "PASS",
      "timestamp": "2025-12-19T15:18:13.315020",
      "details": {
        "path": "F:\\100KIRO project\\Pervis PRO\\backend\\assets",
        "readable": true,
        "writable": true
      },
      "is_critical": false
    }
  ]
}