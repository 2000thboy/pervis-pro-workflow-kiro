# PreVis PRO MVP验证系统执行计划

**基于**: pool/MVP检验需求.md  
**当前状态**: P0工程稳定性修复完成，系统进入MVP验证阶段  
**目标**: 建立完整的"可演示、可交付、可信任"验证体系

## 🎯 核心交付物（基于需求文档）

根据MVP检验需求，我们需要立即创建以下4个核心交付物：

### 1. ✅ Sanity Check 自检脚本
**目的**: 30秒内验证系统是否可用  
**状态**: 已有基础版本，需要完善  
**文件**: `sanity_check.py`

### 2. ✅ P0稳定性自检报告模板  
**目的**: 给人/给自己看的标准化报告  
**状态**: 已有基础版本，需要自动化  
**文件**: `SANITY_CHECK_REPORT.md`

### 3. ✅ 演示用MVP Demo项目
**目的**: 5分钟打动人的标准演示  
**状态**: 需要创建  
**项目**: Cyberpunk Trailer Demo

### 4. ✅ 喂给KIRO的冻结提示词
**目的**: 防止功能漂移  
**状态**: 需要创建  
**文件**: `KIRO_FREEZE_PROMPT.md`

## 📋 立即可执行的任务清单

### 第1阶段: 基础验证能力建立（本周内完成）

#### Task 1.1: 完善Sanity Check脚本 ⚡ P0
**当前状态**: 已有基础脚本，需要增强
**具体任务**:
- [ ] 增强后端健康检查（添加数据库连接测试）
- [ ] 添加前端可访问性检查
- [ ] 实现向量维度一致性验证
- [ ] 添加异步任务行为检查
- [ ] 优化输出格式和错误报告

**验收标准**:
- 脚本执行时间 < 30秒
- 所有检查项都有明确的PASS/FAIL状态
- 失败时提供具体的错误信息和修复建议

#### Task 1.2: 创建标准演示项目 ⚡ P0
**当前状态**: 需要从零创建
**具体任务**:
- [ ] 创建Cyberpunk Trailer演示项目结构
- [ ] 准备演示剧本（3个场景，简洁有力）
- [ ] 收集/创建3-5个高质量演示素材
- [ ] 生成预设的Beat数据和标签映射
- [ ] 创建演示流程控制脚本

**项目结构**:
```
demo_projects/cyberpunk_trailer/
├── project.json          # 项目元数据
├── script.txt           # 演示剧本
├── beats.json           # 预生成Beat数据
├── assets/              # 演示素材
│   ├── city_night.mp4   # 城市夜景追逐
│   ├── rain_forest.mp4  # 雨林奔跑
│   └── closeup_shot.mp4 # 人物特写
├── tags.json            # 标签映射
└── README.md            # 演示指南
```

#### Task 1.3: 创建KIRO冻结提示词 ⚡ P0
**当前状态**: 需要创建
**具体任务**:
- [ ] 编写KIRO_FREEZE_PROMPT.md
- [ ] 定义严格的开发约束规则
- [ ] 明确允许和禁止的操作范围
- [ ] 添加变更请求的标准格式要求

**核心约束**:
- ❌ 禁止新功能开发
- ❌ 禁止架构重构  
- ❌ 禁止技术栈变更
- ✅ 允许P0稳定性修复
- ✅ 允许Sanity/Demo相关改进

### 第2阶段: 报告和文档系统（下周内完成）

#### Task 2.1: 自动化稳定性报告生成 📊 P1
**当前状态**: 有手动报告模板，需要自动化
**具体任务**:
- [ ] 创建报告生成脚本
- [ ] 实现P0修复状态自动检查
- [ ] 添加性能指标收集
- [ ] 生成多格式输出（MD/JSON/HTML）

#### Task 2.2: 创建演示控制系统 🎬 P1  
**具体任务**:
- [ ] 实现演示项目加载器
- [ ] 创建演示流程自动化脚本
- [ ] 添加演示模式开关
- [ ] 实现演示状态重置功能

#### Task 2.3: 完善交付文档 📚 P1
**具体任务**:
- [ ] 创建部署指南
- [ ] 编写使用手册
- [ ] 添加故障排除文档
- [ ] 创建演示话术指导

### 第3阶段: 系统集成和验证（两周内完成）

#### Task 3.1: 长期稳定性验证 🔍 P2
**具体任务**:
- [ ] 实现2小时连续运行测试
- [ ] 添加内存泄漏检测
- [ ] 性能基准测试
- [ ] 错误恢复能力测试

#### Task 3.2: 版本控制和发布管理 📦 P2
**具体任务**:
- [ ] 创建版本验证流程
- [ ] 实现发布包生成
- [ ] 添加版本回退机制
- [ ] 语义化版本管理

## 🚀 即刻开始的行动

### 今天就可以做的事情（30分钟内）

1. **完善sanity_check.py脚本**
```bash
# 增强现有脚本功能
python sanity_check.py  # 测试当前版本
# 添加缺失的检查项
```

2. **创建KIRO冻结提示词**
```bash
# 创建约束文档
touch KIRO_FREEZE_PROMPT.md
# 定义开发约束规则
```

3. **准备演示项目目录**
```bash
# 创建演示项目结构
mkdir -p demo_projects/cyberpunk_trailer/assets
# 开始收集演示素材
```

### 本周内必须完成的里程碑

- [ ] **Day 1-2**: Sanity Check脚本完全可用
- [ ] **Day 3-4**: 演示项目基础结构就绪
- [ ] **Day 5**: KIRO冻结控制生效

## 📊 成功标准和验收条件

### 技术指标
- ✅ Sanity Check < 30秒完成
- ✅ 演示流程 < 5分钟完整展示  
- ✅ 系统连续稳定运行 > 2小时
- ✅ API响应时间 < 500ms

### 交付标准  
- ✅ 可执行的验证脚本
- ✅ 完整的演示项目
- ✅ 自动化稳定性报告
- ✅ 完整的使用文档

### 可信度标准
- ✅ 可随时演示给外部用户
- ✅ 任何人可独立部署验证  
- ✅ 系统状态清晰可见
- ✅ 开发活动受约束指导

## 🎬 Cyberpunk Trailer Demo 内容规划

### 演示剧本（3个场景）
```
类型：动作 / 赛博朋克

SCENE 1 - 城市追逐
夜晚，霓虹闪烁的城市高楼间。
无人机视角俯拍，快速移动。
情绪：紧张、追逐、高速。

SCENE 2 - 雨林逃亡  
密林中，手持摄影跟随奔跑。
雨水、泥泞、喘息声。
情绪：慌乱、逃亡、绝望。

SCENE 3 - 人物特写
近景，人物面部，汗水滴落。
眼神坚定，准备反击。
情绪：压迫、决心、爆发。
```

### 演示流程设计
1. **打开项目** → 显示完整剧本
2. **执行分析** → 生成Beat分解  
3. **选择Beat** → 推荐匹配素材
4. **预览素材** → 播放代理文件
5. **查看标签** → 展示匹配理由

### 演示重点强调
- 这是"导演辅助工具"，不是剪辑软件
- 推荐是情绪和语义匹配，不是精确剪辑  
- 所有结果都可人工调整
- 本地运行，数据安全

## 🔒 开发约束和冻结控制

### 严格禁止的操作
- ❌ 新功能开发（Whisper、CLIP、批处理等）
- ❌ 架构重构（微服务、云端等）
- ❌ 技术栈变更（数据库、框架等）
- ❌ 产品范围扩展（编辑功能等）

### 明确允许的操作  
- ✅ P0稳定性修复（阻塞、维度、轮询）
- ✅ Sanity Check相关改进
- ✅ Demo项目优化
- ✅ 文档和报告完善
- ✅ 错误处理改进

### 变更请求标准格式
所有代码修改必须明确说明：
- **文件名**: 具体的文件路径
- **函数名**: 具体的函数或方法名
- **改动原因**: P0/Sanity/Demo中的哪一类
- **预期效果**: 修复什么问题或改进什么体验

## 📈 价值实现路径

```
当前状态 → 第1阶段 → 第2阶段 → 第3阶段 → 目标状态
工程稳定   基础验证   报告文档   系统集成   生产就绪
   ↓         ↓         ↓         ↓         ↓
P0修复完成  验证脚本   自动报告   长期测试   可信交付
```

## 🎯 最终交付标准

当完成所有任务后，PreVis PRO应该达到：

> **任何时候，都能在5分钟内向任何人证明这个系统是有价值的、稳定的、可信任的。**

这就是MVP验证系统的核心价值 - 不是增加功能，而是增加信心。

---

**下一步行动**: 立即开始Task 1.1 - 完善Sanity Check脚本  
**预期完成**: 第1阶段任务在本周内全部完成  
**关键里程碑**: 演示项目就绪，系统可对外展示