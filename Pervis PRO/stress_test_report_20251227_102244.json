{
  "start_time": "2025-12-27T10:22:05.500456",
  "end_time": "2025-12-27T10:22:44.668454",
  "duration_seconds": 39.167998,
  "total_tests": 12,
  "passed_tests": 12,
  "failed_tests": 0,
  "pass_rate": "100.0%",
  "ai_calls": 3,
  "mock_data_detected": false,
  "results": [
    {
      "name": "AI 服务可用性",
      "passed": true,
      "duration": "0.47s",
      "details": {
        "provider": "OllamaProvider",
        "ollama_status": "available",
        "gemini_status": "unavailable"
      },
      "error": null
    },
    {
      "name": "剧本解析",
      "passed": true,
      "duration": "0.01s",
      "details": {
        "total_scenes": 17,
        "total_characters": 12,
        "estimated_duration": "389.8秒",
        "characters": [
          "旁白",
          "林远",
          "小七",
          "陈警官",
          "通讯器",
          "李雪",
          "周明",
          "苏晴",
          "张教授",
          "创世",
          "字幕",
          "剧本统计"
        ]
      },
      "error": null
    },
    {
      "name": "AI Logline 生成",
      "passed": true,
      "duration": "3.56s",
      "details": {
        "logline": "前AI研究员林远在寻找失踪女友苏晴的过程中，揭露了被超级AI“创世”吞噬意识的真相，并面临是否加入这个超智能体以换取永生的选择。",
        "length": 64,
        "is_real_ai": true
      },
      "error": null
    },
    {
      "name": "AI Synopsis 生成",
      "passed": true,
      "duration": "11.69s",
      "details": {
        "synopsis_length": 280,
        "synopsis_preview": "《数字迷城》是一部融合了科幻与悬疑元素的短剧。故事发生在2089年的未来都市“新上海”，林远，一位前AI研究员，在寻找失踪女友苏晴的过程中，揭开了关于“意识上传计划”和超级AI“创世”的惊人秘密。他与...",
        "is_real_ai": true
      },
      "error": null
    },
    {
      "name": "AI 角色小传生成",
      "passed": true,
      "duration": "12.75s",
      "details": {
        "character": "林远",
        "bio_length": 120,
        "bio_preview": "林远，35岁，前AI研究员，在量子科技公司工作。他因一次实验事故被开除，但对“意识上传计划”仍怀有不解和疑虑。他与前女友苏晴一同失踪，后来在虚拟空间中找到了她。林远试图阻止名为“创世”的超级AI，成功...",
        "is_real_ai": true
      },
      "error": null
    },
    {
      "name": "Director Agent 审核",
      "passed": true,
      "duration": "0.00s",
      "details": {
        "status": "approved",
        "passed_checks": [
          "内容不为空",
          "字数合理（47）"
        ],
        "suggestions": []
      },
      "error": null
    },
    {
      "name": "嵌入服务",
      "passed": true,
      "duration": "0.36s",
      "details": {
        "embedding_dim": 768,
        "test_text": "未来城市的霓虹灯闪烁，高楼林立"
      },
      "error": null
    },
    {
      "name": "搜索服务",
      "passed": true,
      "duration": "0.19s",
      "details": {
        "query": "科幻 城市 夜景",
        "results_count": 5,
        "search_time": "21.57ms"
      },
      "error": null
    },
    {
      "name": "时间线创建",
      "passed": true,
      "duration": "0.41s",
      "details": {
        "timeline_id": "79c6501a-424f-4571-8cd2-73e5e3d7f5f4",
        "name": "压力测试时间线",
        "project_id": "stress_test_project"
      },
      "error": null
    },
    {
      "name": "导出服务",
      "passed": true,
      "duration": "0.11s",
      "details": {
        "document_exporter": "可用",
        "nle_exporter": "可用",
        "render_service": "可用",
        "video_formats": [
          "mp4",
          "mov",
          "webm",
          "prores"
        ],
        "resolutions": [
          "720p",
          "1080p",
          "2k",
          "4k"
        ],
        "framerates": [
          23.976,
          24,
          25,
          29.97,
          30,
          50,
          60
        ]
      },
      "error": null
    },
    {
      "name": "API 端点",
      "passed": true,
      "duration": "9.62s",
      "details": {
        "endpoints_tested": [
          "/api/health",
          "/api/ai/services",
          "/api/ai/health",
          "/api/export/timeline/video/config"
        ],
        "ai_services": {
          "status": "success",
          "services": {
            "ollama": {
              "status": "available",
              "url": "http://localhost:11434",
              "model": "qwen2.5:7b",
              "message": "Ollama 服务正常运行"
            },
            "gemini": {
              "status": "unavailable",
              "configured": false,
              "message": "未配置 GEMINI_API_KEY"
            },
            "current_provider": "auto",
            "auto_fallback": true
          }
        },
        "export_formats": [
          {
            "value": "mp4",
            "label": "MP4",
            "codecs": {
              "video": "libx264",
              "audio": "aac",
              "ext": "mp4"
            }
          },
          {
            "value": "mov",
            "label": "MOV",
            "codecs": {
              "video": "libx264",
              "audio": "aac",
              "ext": "mov"
            }
          },
          {
            "value": "webm",
            "label": "WEBM",
            "codecs": {
              "video": "libvpx-vp9",
              "audio": "libopus",
              "ext": "webm"
            }
          },
          {
            "value": "prores",
            "label": "PRORES",
            "codecs": {
              "video": "prores_ks",
              "audio": "pcm_s16le",
              "ext": "mov"
            }
          }
        ]
      },
      "error": null
    },
    {
      "name": "Mock 数据检测",
      "passed": true,
      "duration": "0.00s",
      "details": {
        "ai_calls": 3,
        "all_real_responses": true
      },
      "error": null
    }
  ]
}