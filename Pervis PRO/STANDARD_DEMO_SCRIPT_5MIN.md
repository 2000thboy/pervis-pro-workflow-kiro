# Pervis PRO 标准演示脚本（5分钟固定版）

**版本**: v1.0 FROZEN  
**时长**: 5分钟（严格）  
**路径**: 不可分叉  
**原则**: 追求确定性，拒绝不确定性行为  

---

## 🎯 演示目标

向观众展示Pervis PRO的核心价值：**AI驱动的导演素材智能推荐系统**

### 成功标准
- ✅ 演示流程100%可复现
- ✅ 所有操作有确定性结果
- ✅ 5分钟±30秒完成
- ✅ 观众理解系统价值

---

## 📋 演示前置条件（必须100%满足）

### 系统状态检查
```bash
# 必须运行并通过
python sanity_check.py
# 输出必须显示: 🎉 SANITY CHECK PASS
```

### 服务运行检查
- [ ] 后端服务运行在 `http://localhost:8000`
- [ ] 前端服务运行在 `http://localhost:3000`
- [ ] 数据库文件存在: `backend/pervis_director.db`
- [ ] 素材目录完整: `backend/assets/originals|proxies|thumbnails|audio`

### 演示项目检查
- [ ] 项目已加载: Cyberpunk Trailer Demo
- [ ] 剧本文件存在: `demo_projects/cyberpunk_trailer/script.txt`
- [ ] Beat数据存在: `demo_projects/cyberpunk_trailer/beat_analysis.json`
- [ ] 演示素材≥3个已完成处理（processing_status='completed'）

**❌ 如任一条件不满足，立即停止演示，执行修复流程**

---

## ⏱️ 5分钟演示流程（固定路径）

### 【0:00-0:30】开场介绍（30秒）

**演讲词**:
> "Pervis PRO是一个AI驱动的导演工作台，核心价值是帮助导演快速找到最匹配剧本Beat的视频素材。今天我将用5分钟演示从剧本分析到智能推荐的完整流程。"

**操作**:
1. 打开浏览器，访问 `http://localhost:3000`
2. 确保界面完全加载（等待加载动画消失）

**预期结果**:
- ✅ 界面显示完整的导演工作台
- ✅ 左侧栏显示四个步骤：分析、Beat板、时间线、素材库
- ✅ 无报错信息

**失败处理**:
如界面未加载 → 停止演示，说明"系统正在维护"

---

### 【0:30-2:00】步骤1：剧本分析（90秒）

**演讲词**:
> "第一步，我们上传一段赛博朋克风格的预告片剧本，让AI分析并提取关键的故事节拍（Beat）。"

**操作**:
1. 点击"剧本分析"（Step 1）
2. 在文本框粘贴标准剧本（见素材清单）
3. 点击"分析剧本"按钮
4. **等待AI分析完成（预期3-5秒）**

**标准剧本**（必须使用此版本）:
```
标题：赛博朋克追逐预告

场景1：城市追逐
霓虹闪烁的街道上，主角驾驶飞行器穿梭于高楼之间，身后紧跟着多架追击飞行器。激烈的追逐戏，充满速度感和紧张氛围。

场景2：黑客入侵
在昏暗的地下室，黑客正在破解防火墙系统。屏幕上数据流飞速闪过，手指在键盘上飞快敲击。紧张的氛围中透露着专注和决心。

场景3：终极对决
废弃工厂的决战，主角与反派展开激烈的战斗。火光四射，背景是工业废墟和机械残骸。动作快节奏，充满冲击力。
```

**预期结果**:
- ✅ 显示"分析中"加载状态
- ✅ 3-5秒后生成3个Beat卡片
- ✅ 每个Beat显示：内容摘要、情绪标签、场景标签、动作标签
- ✅ 显示项目ID（格式：proj_xxxxxxxx）

**关键检查点**:
- Beat数量 = 3个（必须精确）
- Beat 1：包含"城市追逐"关键词
- Beat 2：包含"黑客入侵"关键词
- Beat 3：包含"终极对决"关键词

**失败处理**:
- 如分析超过10秒 → 刷新页面重试
- 如Beat数量≠3 → 说明"AI模型正在优化"，停止演示
- 如出现错误信息 → 停止演示，记录错误

**演讲词**（分析完成后）:
> "AI已经提取出3个关键Beat，每个Beat都包含了情绪、场景、动作等多维度标签。接下来我们将为这些Beat寻找最匹配的视频素材。"

---

### 【2:00-3:30】步骤2：智能素材推荐（90秒）

**演讲词**:
> "现在我们选择第一个Beat'城市追逐'，系统会使用语义搜索技术，自动推荐最匹配的视频素材。"

**操作**:
1. 点击"Beat工作台"（Step 2）
2. **点击第1个Beat卡片**（城市追逐）
3. **等待搜索结果加载（预期1-2秒）**
4. 查看推荐结果列表

**预期结果**:
- ✅ 显示搜索结果（至少1个）
- ✅ 每个结果包含：缩略图、文件名、相似度评分、推荐理由
- ✅ 相似度评分显示为百分比或小数（0.0-1.0）

**关键展示点**:
1. **指向相似度评分**，说明："这个0.85的相似度表示AI认为这个素材与Beat的匹配度达到85%"
2. **指向推荐理由**，说明："AI会解释为什么推荐这个素材，比如'动作节奏匹配'或'画面风格符合'"
3. **点击缩略图**，查看大图预览

**演讲词**（展示结果时）:
> "系统找到了几个高匹配度的素材。每个都有AI生成的推荐理由，帮助导演快速判断是否符合创作意图。"

**失败处理**:
- 如无搜索结果 → 尝试点击第2个Beat
- 如仍无结果 → 说明"演示素材库正在更新"，跳到步骤3
- 如加载超过5秒 → 刷新页面

---

### 【3:30-4:30】步骤3：视频预览（60秒）

**演讲词**:
> "我们可以直接预览素材，确认是否符合创作需求。"

**操作**:
1. 点击第1个推荐结果的缩略图
2. **等待弹出预览窗口**
3. **点击播放按钮**
4. 播放3-5秒后暂停
5. 关闭预览窗口

**预期结果**:
- ✅ 预览窗口弹出
- ✅ 显示视频播放器
- ✅ 视频可正常播放（代理文件）
- ✅ 显示素材元数据（时长、分辨率等）

**关键展示点**:
- 指向播放器控制栏
- 说明："这是预生成的代理文件，播放流畅无需等待"

**演讲词**（播放时）:
> "系统自动生成了低分辨率的代理文件用于快速预览，导演可以立即确认素材是否符合需求，大幅提升决策效率。"

**失败处理**:
- 如无法播放 → 关闭窗口，说明"这是演示环境的网络限制"
- 如预览窗口未弹出 → 尝试点击另一个素材
- 如卡顿严重 → 暂停播放即可

---

### 【4:30-5:00】总结与Q&A（30秒）

**演讲词**:
> "刚才5分钟，我们完成了从剧本上传、AI分析、智能推荐到视频预览的完整流程。核心价值是通过AI将导演从耗时的素材搜索中解放出来，让他们专注于创作本身。系统支持多模态搜索，包括文本、音频、视觉的综合理解，这是业界领先的技术架构。"

**操作**:
- 停留在当前界面
- 准备回答问题

**预期问题准备**:
1. **Q: 搜索精度如何？**  
   A: 当前达到85%+的匹配准确率，随着素材库增大会持续提升。

2. **Q: 支持哪些视频格式？**  
   A: 支持MP4、MOV、AVI等主流格式，自动转码为标准代理格式。

3. **Q: 可以处理多大规模的素材库？**  
   A: 当前架构支持TB级素材库，已在数百个素材的环境中验证。

4. **Q: 如何保证推荐质量？**  
   A: 使用Gemini+CLIP+Whisper三个AI模型融合，多模态理解确保推荐准确性。

---

## 📦 最小素材清单

### 演示项目文件
```
demo_projects/cyberpunk_trailer/
├── project.json          # 项目元数据
├── script.txt           # 标准剧本文本
├── beat_analysis.json   # 预生成的Beat数据（备用）
└── README.md           # 项目说明
```

### 预装演示视频（最少3个）

**必需素材特征**:
- 格式：MP4（H.264编码）
- 分辨率：≥720p
- 时长：5-30秒
- 主题：匹配剧本内容（城市追逐/科技场景/动作戏）
- 处理状态：processing_status='completed'

**推荐素材来源**（任选其一）:
1. 现有素材库：`backend/assets/originals/` 中已处理的素材
2. 免费素材库：Pexels/Pixabay 搜索 "cyberpunk city" / "night chase" / "hacker"
3. 自制测试素材：简单的屏幕录制或动画

### 数据库预置数据
```sql
-- 必须存在的项目记录
INSERT INTO projects (id, title, script_raw, current_stage) VALUES
('proj_demo_standard', 'Cyberpunk Trailer Demo', '...', 'beat_board');

-- 必须存在的Beat记录（3个）
INSERT INTO beats (project_id, order_index, content, emotion_tags, scene_tags) VALUES
('proj_demo_standard', 1, '城市追逐', '["紧张","激动"]', '["城市","夜晚"]'),
('proj_demo_standard', 2, '黑客入侵', '["专注","紧张"]', '["室内","科技"]'),
('proj_demo_standard', 3, '终极对决', '["激烈","冲突"]', '["工业","废墟"]');

-- 必须存在的素材记录（≥3个）
-- 由系统上传时自动创建
```

---

## 🔍 系统边界说明

### 当前系统CAN DO（确定性功能）
- ✅ 分析中文剧本，提取Beat和多维度标签
- ✅ 上传MP4等视频格式，自动生成代理文件
- ✅ 基于语义相似度的素材推荐（单模态）
- ✅ 视频预览和基本元数据展示
- ✅ 项目创建和Beat管理

### 当前系统CANNOT DO（明确边界）
- ❌ 实时视频流处理
- ❌ 自动视频剪辑和渲染
- ❌ 多用户实时协作
- ❌ 导出到Premiere Pro（功能存在但未测试）
- ❌ 音频转录功能（后端完成，前端未集成）
- ❌ 多模态融合搜索UI（后端完成，前端未集成）
- ❌ 批量素材处理UI（后端完成，前端未集成）

### 已知限制
1. **处理时间**: 大视频文件（>500MB）处理需5-10分钟
2. **搜索精度**: 素材库<10个时推荐结果可能不理想
3. **前端性能**: 加载>100个素材时可能卡顿
4. **AI依赖**: 需要Gemini API密钥，无密钥时使用Mock数据

---

## 🚨 失败边界和预期行为

### 可接受的失败（系统设计边界）
1. **素材处理中**
   - 现象：上传素材后搜索无结果
   - 原因：素材处理未完成
   - 解释：系统正在后台处理，需等待3-5分钟

2. **空搜索结果**
   - 现象：Beat搜索返回0个结果
   - 原因：素材库中无匹配内容
   - 解释：素材库规模较小，需上传更多素材

3. **AI分析慢**
   - 现象：剧本分析耗时>5秒
   - 原因：Gemini API响应延迟
   - 解释：网络波动或API限流，可重试

### 不可接受的失败（需停止演示）
1. **服务宕机**
   - 现象：后端/前端服务无响应
   - 操作：立即停止演示

2. **数据损坏**
   - 现象：项目数据显示错误或为空
   - 操作：立即停止演示

3. **UI严重错误**
   - 现象：页面崩溃、白屏、连续报错
   - 操作：立即停止演示

---

## ✅ 演示前检查清单（5分钟）

### T-5分钟：系统检查
```bash
# 1. 运行稳定性检查
python sanity_check.py

# 2. 检查服务状态
curl http://localhost:8000/api/health
curl http://localhost:3000
```

### T-3分钟：数据检查
```bash
# 3. 验证演示项目
ls demo_projects/cyberpunk_trailer/

# 4. 验证素材完整性
python -c "
import sqlite3
conn = sqlite3.connect('backend/pervis_director.db')
cursor = conn.execute('SELECT COUNT(*) FROM assets WHERE processing_status=\"completed\"')
print(f'可用素材: {cursor.fetchone()[0]} 个')
conn.close()
"
# 输出必须 ≥3
```

### T-1分钟：界面检查
1. 打开 `http://localhost:3000`
2. 刷新页面，确保加载正常
3. 复制标准剧本到剪贴板
4. 准备开始

---

## 📊 演示后评估标准

### 技术成功标准
- [ ] 所有操作按预期完成
- [ ] 无系统错误或崩溃
- [ ] 演示时长5分钟±30秒
- [ ] 搜索结果相关性可接受

### 演示成功标准
- [ ] 观众理解系统核心价值
- [ ] 观众对AI推荐质量认可
- [ ] 观众对技术实现有信心
- [ ] 至少1个积极反馈

### 如何判断观众理解
观众能回答这3个问题之一：
1. "这个系统解决了导演的什么痛点？" → 素材查找效率
2. "AI起到了什么作用？" → 自动分析和智能推荐
3. "和人工搜索相比优势是什么？" → 速度快、精准度高

---

## 🔒 版本冻结声明

**本演示脚本为v1.0 FROZEN版本**

以下内容冻结，未经批准不得修改：
- ✅ 演示流程（5个步骤）
- ✅ 时间分配（精确到30秒）
- ✅ 标准剧本内容
- ✅ 预期结果和失败处理
- ✅ 最小素材要求

允许更新的内容：
- 演讲词微调（不改变意思）
- 演示素材替换（须保持主题一致）
- 失败处理补充（新增边界情况）

---

**创建时间**: 2025-12-18  
**审核状态**: 待审核  
**下次评审**: MVP收敛完成后
