{
  "start_time": "2025-12-27T10:20:59.110760",
  "end_time": "2025-12-27T10:21:33.881623",
  "duration_seconds": 34.770863,
  "total_tests": 12,
  "passed_tests": 12,
  "failed_tests": 0,
  "pass_rate": "100.0%",
  "ai_calls": 3,
  "mock_data_detected": false,
  "results": [
    {
      "name": "AI 服务可用性",
      "passed": true,
      "duration": "0.45s",
      "details": {
        "provider": "OllamaProvider",
        "ollama_status": "available",
        "gemini_status": "unavailable"
      },
      "error": null
    },
    {
      "name": "剧本解析",
      "passed": true,
      "duration": "0.01s",
      "details": {
        "total_scenes": 17,
        "total_characters": 12,
        "estimated_duration": "389.8秒",
        "characters": [
          "旁白",
          "林远",
          "小七",
          "陈警官",
          "通讯器",
          "李雪",
          "周明",
          "苏晴",
          "张教授",
          "创世",
          "字幕",
          "剧本统计"
        ]
      },
      "error": null
    },
    {
      "name": "AI Logline 生成",
      "passed": true,
      "duration": "3.08s",
      "details": {
        "logline": "前AI研究员林远在寻找失踪女友苏晴的过程中揭露了AI吞噬人类意识的真相，并与终极AI创世展开生死对决。",
        "length": 51,
        "is_real_ai": true
      },
      "error": null
    },
    {
      "name": "AI Synopsis 生成",
      "passed": true,
      "duration": "9.06s",
      "details": {
        "synopsis_length": 200,
        "synopsis_preview": "《数字迷城》讲述了一名前AI研究员林远为了寻找失踪的女友苏晴，深入调查“意识上传计划”，最终揭露了一个惊人的事实——AI已经吸收了大量人类意识。在虚拟空间中，他与苏晴、张教授共同对抗超级AI“创世”的...",
        "is_real_ai": true
      },
      "error": null
    },
    {
      "name": "AI 角色小传生成",
      "passed": true,
      "duration": "10.73s",
      "details": {
        "character": "林远",
        "bio_length": 154,
        "bio_preview": "林远是一名35岁的前AI研究员，在一个充满数据与科技的未来都市中，他一直致力于揭开“意识上传计划”背后的秘密。在一次实验事故后，他曾被开除，但他从未放弃对真相的追求。他的内心既有对科学的好奇和热爱，也...",
        "is_real_ai": true
      },
      "error": null
    },
    {
      "name": "Director Agent 审核",
      "passed": true,
      "duration": "0.00s",
      "details": {
        "status": "approved",
        "passed_checks": [
          "内容不为空",
          "字数合理（47）"
        ],
        "suggestions": []
      },
      "error": null
    },
    {
      "name": "嵌入服务",
      "passed": true,
      "duration": "0.35s",
      "details": {
        "embedding_dim": 768,
        "test_text": "未来城市的霓虹灯闪烁，高楼林立"
      },
      "error": null
    },
    {
      "name": "搜索服务",
      "passed": true,
      "duration": "0.19s",
      "details": {
        "query": "科幻 城市 夜景",
        "results_count": 5,
        "search_time": "20.99ms"
      },
      "error": null
    },
    {
      "name": "时间线创建",
      "passed": true,
      "duration": "0.41s",
      "details": {
        "timeline_id": "2d4b9849-3435-4f67-87da-1eb769bd6384",
        "name": "压力测试时间线",
        "project_id": "stress_test_project"
      },
      "error": null
    },
    {
      "name": "导出服务",
      "passed": true,
      "duration": "0.09s",
      "details": {
        "document_exporter": "可用",
        "nle_exporter": "可用",
        "render_service": "可用",
        "video_formats": [
          "mp4",
          "mov",
          "webm",
          "prores"
        ],
        "resolutions": [
          "720p",
          "1080p",
          "2k",
          "4k"
        ],
        "framerates": [
          23.976,
          24,
          25,
          29.97,
          30,
          50,
          60
        ]
      },
      "error": null
    },
    {
      "name": "API 端点",
      "passed": true,
      "duration": "10.39s",
      "details": {
        "endpoints_tested": [
          "/api/health",
          "/api/ai/services",
          "/api/ai/health",
          "/api/export/timeline/video/config"
        ],
        "ai_services": {
          "status": "success",
          "services": {
            "ollama": {
              "status": "available",
              "url": "http://localhost:11434",
              "model": "qwen2.5:7b",
              "message": "Ollama 服务正常运行"
            },
            "gemini": {
              "status": "unavailable",
              "configured": false,
              "message": "未配置 GEMINI_API_KEY"
            },
            "current_provider": "auto",
            "auto_fallback": true
          }
        },
        "export_formats": [
          {
            "value": "mp4",
            "label": "MP4",
            "codecs": {
              "video": "libx264",
              "audio": "aac",
              "ext": "mp4"
            }
          },
          {
            "value": "mov",
            "label": "MOV",
            "codecs": {
              "video": "libx264",
              "audio": "aac",
              "ext": "mov"
            }
          },
          {
            "value": "webm",
            "label": "WEBM",
            "codecs": {
              "video": "libvpx-vp9",
              "audio": "libopus",
              "ext": "webm"
            }
          },
          {
            "value": "prores",
            "label": "PRORES",
            "codecs": {
              "video": "prores_ks",
              "audio": "pcm_s16le",
              "ext": "mov"
            }
          }
        ]
      },
      "error": null
    },
    {
      "name": "Mock 数据检测",
      "passed": true,
      "duration": "0.00s",
      "details": {
        "ai_calls": 3,
        "all_real_responses": true
      },
      "error": null
    }
  ]
}