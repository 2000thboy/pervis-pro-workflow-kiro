{
  "summary": {
    "start_time": "2025-12-19T15:17:45.108047",
    "end_time": "2025-12-19T15:17:46.744982",
    "duration_seconds": 1.636935,
    "tests_run": 57,
    "tests_passed": 55,
    "tests_failed": 2,
    "success_rate": 96.49122807017544
  },
  "critical_issues": [
    "Python包检查: google-generativeai: 包未安装: google-generativeai",
    "Python包检查: opencv-python: 包未安装: opencv-python"
  ],
  "warnings": [],
  "detailed_results": [
    {
      "test_name": "Python版本检查",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:45.112490",
      "details": {
        "python_version": "3.13.8 (tags/v3.13.8:a15ae61, Oct  7 2025, 12:34:25) [MSC v.1944 64 bit (AMD64)]"
      },
      "is_critical": false
    },
    {
      "test_name": "目录存在检查: backend",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:45.113892",
      "details": {
        "path": "F:\\100KIRO project\\Pervis PRO\\backend"
      },
      "is_critical": false
    },
    {
      "test_name": "目录存在检查: frontend",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:45.115442",
      "details": {
        "path": "F:\\100KIRO project\\Pervis PRO\\frontend"
      },
      "is_critical": false
    },
    {
      "test_name": "目录存在检查: assets",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:45.116722",
      "details": {
        "path": "F:\\100KIRO project\\Pervis PRO\\assets"
      },
      "is_critical": false
    },
    {
      "test_name": "目录存在检查: storage",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:45.117852",
      "details": {
        "path": "F:\\100KIRO project\\Pervis PRO\\storage"
      },
      "is_critical": false
    },
    {
      "test_name": "Python包检查: sqlalchemy",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:45.270775",
      "details": {
        "package": "sqlalchemy"
      },
      "is_critical": false
    },
    {
      "test_name": "Python包检查: fastapi",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:45.464386",
      "details": {
        "package": "fastapi"
      },
      "is_critical": false
    },
    {
      "test_name": "Python包检查: uvicorn",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:45.489399",
      "details": {
        "package": "uvicorn"
      },
      "is_critical": false
    },
    {
      "test_name": "Python包检查: pydantic",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:45.490865",
      "details": {
        "package": "pydantic"
      },
      "is_critical": false
    },
    {
      "test_name": "Python包检查: google-generativeai",
      "status": "FAIL",
      "timestamp": "2025-12-19T15:17:45.492108",
      "details": {
        "error": "包未安装: google-generativeai"
      },
      "is_critical": true
    },
    {
      "test_name": "Python包检查: numpy",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:45.527290",
      "details": {
        "package": "numpy"
      },
      "is_critical": false
    },
    {
      "test_name": "Python包检查: opencv-python",
      "status": "FAIL",
      "timestamp": "2025-12-19T15:17:45.528724",
      "details": {
        "error": "包未安装: opencv-python"
      },
      "is_critical": true
    },
    {
      "test_name": "数据库连接测试",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:45.575763",
      "details": {
        "database_url": "sqlite:///backend/pervis_director.db"
      },
      "is_critical": false
    },
    {
      "test_name": "数据表检查: projects",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:45.577167",
      "details": {
        "table": "projects",
        "record_count": 67
      },
      "is_critical": false
    },
    {
      "test_name": "数据表检查: beats",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:45.578452",
      "details": {
        "table": "beats",
        "record_count": 194
      },
      "is_critical": false
    },
    {
      "test_name": "数据表检查: assets",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:45.579720",
      "details": {
        "table": "assets",
        "record_count": 26
      },
      "is_critical": false
    },
    {
      "test_name": "数据表检查: timelines",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:45.580823",
      "details": {
        "table": "timelines",
        "record_count": 21
      },
      "is_critical": false
    },
    {
      "test_name": "数据表检查: clips",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:45.581982",
      "details": {
        "table": "clips",
        "record_count": 26
      },
      "is_critical": false
    },
    {
      "test_name": "数据表检查: render_tasks",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:45.583080",
      "details": {
        "table": "render_tasks",
        "record_count": 15
      },
      "is_critical": false
    },
    {
      "test_name": "数据表检查: asset_segments",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:45.584293",
      "details": {
        "table": "asset_segments",
        "record_count": 110
      },
      "is_critical": false
    },
    {
      "test_name": "剧本分析服务初始化",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.327482",
      "details": {
        "service": "ScriptProcessor"
      },
      "is_critical": false
    },
    {
      "test_name": "剧本分析功能测试",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.584751",
      "details": {
        "beats_count": 5,
        "characters_count": 1,
        "processing_time": 0.2554960250854492,
        "project_id": "proj_947c0bc6"
      },
      "is_critical": false
    },
    {
      "test_name": "素材处理服务初始化",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.603972",
      "details": {
        "service": "AssetProcessor"
      },
      "is_critical": false
    },
    {
      "test_name": "素材处理依赖服务: video_processor",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.605260",
      "details": {
        "service": "video_processor"
      },
      "is_critical": false
    },
    {
      "test_name": "素材处理依赖服务: gemini_client",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.606694",
      "details": {
        "service": "gemini_client"
      },
      "is_critical": false
    },
    {
      "test_name": "素材处理依赖服务: audio_transcriber",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.607749",
      "details": {
        "service": "audio_transcriber"
      },
      "is_critical": false
    },
    {
      "test_name": "素材处理依赖服务: visual_processor",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.608811",
      "details": {
        "service": "visual_processor"
      },
      "is_critical": false
    },
    {
      "test_name": "文件类型检测: test.mp4",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.609948",
      "details": {
        "filename": "test.mp4",
        "is_video": true
      },
      "is_critical": false
    },
    {
      "test_name": "文件类型检测: test.avi",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.611596",
      "details": {
        "filename": "test.avi",
        "is_video": true
      },
      "is_critical": false
    },
    {
      "test_name": "文件类型检测: test.jpg",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.613434",
      "details": {
        "filename": "test.jpg",
        "is_video": false
      },
      "is_critical": false
    },
    {
      "test_name": "文件类型检测: test.txt",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.615133",
      "details": {
        "filename": "test.txt",
        "is_video": false
      },
      "is_critical": false
    },
    {
      "test_name": "多模态搜索引擎初始化",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.618577",
      "details": {
        "service": "MultimodalSearchEngine"
      },
      "is_critical": false
    },
    {
      "test_name": "查询意图解析: 蓝色夜景城市",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.620751",
      "details": {
        "query": "蓝色夜景城市",
        "primary_intent": "visual",
        "keywords_count": 3
      },
      "is_critical": false
    },
    {
      "test_name": "查询意图解析: 快乐的对话场景",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.622057",
      "details": {
        "query": "快乐的对话场景",
        "primary_intent": "audio",
        "keywords_count": 2
      },
      "is_critical": false
    },
    {
      "test_name": "查询意图解析: 紧张的追逐镜头",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.623343",
      "details": {
        "query": "紧张的追逐镜头",
        "primary_intent": "semantic",
        "keywords_count": 2
      },
      "is_critical": false
    },
    {
      "test_name": "多模态搜索功能测试",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.627054",
      "details": {
        "results_count": 0,
        "search_modes": [
          "semantic"
        ]
      },
      "is_critical": false
    },
    {
      "test_name": "时间轴服务初始化",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.631837",
      "details": {
        "service": "TimelineService"
      },
      "is_critical": false
    },
    {
      "test_name": "AutoCut服务初始化",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.632982",
      "details": {
        "service": "AutoCutOrchestrator"
      },
      "is_critical": false
    },
    {
      "test_name": "AutoCut智能决策测试",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.645141",
      "details": {
        "clips_generated": 2,
        "total_duration": 6.4,
        "processing_time": 0.009936332702636719
      },
      "is_critical": false
    },
    {
      "test_name": "时间轴创建测试",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.685835",
      "details": {
        "timeline_id": "b4e5501a-1cde-4153-b2f3-4bd69424762a",
        "project_id": "test_project_123",
        "name": "测试时间轴"
      },
      "is_critical": false
    },
    {
      "test_name": "时间轴查询测试",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.688572",
      "details": {
        "timeline_id": "b4e5501a-1cde-4153-b2f3-4bd69424762a"
      },
      "is_critical": false
    },
    {
      "test_name": "渲染服务初始化",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.697823",
      "details": {
        "service": "RenderService"
      },
      "is_critical": false
    },
    {
      "test_name": "FFmpeg集成检查",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.698956",
      "details": {
        "ffmpeg_wrapper": "<class 'services.ffmpeg_wrapper.FFmpegWrapper'>"
      },
      "is_critical": false
    },
    {
      "test_name": "渲染输出目录检查",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.700021",
      "details": {
        "output_dir": "storage\\renders"
      },
      "is_critical": false
    },
    {
      "test_name": "渲染前检查功能测试",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.701391",
      "details": {
        "can_render": false,
        "errors": [
          "时间轴不存在"
        ]
      },
      "is_critical": false
    },
    {
      "test_name": "任务状态查询测试",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.702723",
      "details": {
        "task_id": "nonexistent_task",
        "result": "None (expected)"
      },
      "is_critical": false
    },
    {
      "test_name": "API模块导入: routers.assets",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.709463",
      "details": {
        "module": "routers.assets"
      },
      "is_critical": false
    },
    {
      "test_name": "API模块导入: routers.projects",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.714008",
      "details": {
        "module": "routers.projects"
      },
      "is_critical": false
    },
    {
      "test_name": "API模块导入: routers.autocut",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.716528",
      "details": {
        "module": "routers.autocut"
      },
      "is_critical": false
    },
    {
      "test_name": "API模块导入: routers.timeline",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.724480",
      "details": {
        "module": "routers.timeline"
      },
      "is_critical": false
    },
    {
      "test_name": "API模块导入: routers.render",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.728169",
      "details": {
        "module": "routers.render"
      },
      "is_critical": false
    },
    {
      "test_name": "API模块导入: routers.multimodal",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.733477",
      "details": {
        "module": "routers.multimodal"
      },
      "is_critical": false
    },
    {
      "test_name": "存储目录检查: assets/originals",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.738112",
      "details": {
        "path": "F:\\100KIRO project\\Pervis PRO\\assets\\originals",
        "readable": true,
        "writable": true
      },
      "is_critical": false
    },
    {
      "test_name": "存储目录检查: assets/proxies",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.739626",
      "details": {
        "path": "F:\\100KIRO project\\Pervis PRO\\assets\\proxies",
        "readable": true,
        "writable": true
      },
      "is_critical": false
    },
    {
      "test_name": "存储目录检查: assets/thumbnails",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.740850",
      "details": {
        "path": "F:\\100KIRO project\\Pervis PRO\\assets\\thumbnails",
        "readable": true,
        "writable": true
      },
      "is_critical": false
    },
    {
      "test_name": "存储目录检查: storage/renders",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.741908",
      "details": {
        "path": "F:\\100KIRO project\\Pervis PRO\\storage\\renders",
        "readable": true,
        "writable": true
      },
      "is_critical": false
    },
    {
      "test_name": "存储目录检查: backend/assets",
      "status": "PASS",
      "timestamp": "2025-12-19T15:17:46.742920",
      "details": {
        "path": "F:\\100KIRO project\\Pervis PRO\\backend\\assets",
        "readable": true,
        "writable": true
      },
      "is_critical": false
    }
  ]
}